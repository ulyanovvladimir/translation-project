<!--- Copyright (C) 2009-2015 Typesafe Inc. <http://www.typesafe.com> -->
# Пространство Session и Flash

## В чем отличие Play

Если вам  необходимо хранить данные напротяжение нескольких HTTP запросов, вы можете сохранить их в пространстве Session или Flash. Данные, хранящиеся всю пользовательскую сессию, а данные, хранящиеся в пространстве flash доступны только для следующего запроса.

Важно понимать, что данные Session и Flash не хранятся на сервере, но добавляются в каждый последующий HTTP запрос с помощью Cookies. Это означает, что размер данных очень ограничен (до 4 Кб) и что вы можете сохранять только строковые значения.

Cookies подписываются секретным ключом приложения, так что клиент не может модифицировать данные cookie (в противном случае они не пройдут валидацию). Сессия Play не предназначена для использования в качестве кэша. Если вам нужно скэшировать некоторые данные, связанные с некоторой сессией, вы можете использовать встроенный в Play механизм кэширования и использовать сессию чтобы сохранить уникальный ID, ассоциированный с кэшированными данными для некоторого пользователя.

> Нет технического таймаута для сессии, которая заканчивается с закрытием браузера пользователем. Если вам необходим функциональный таймаут для определенного приолжения, просто сохраняйте timestamp в пользовательскую Сессию и используйте ее в нуждах вашего приложения (например для максимальная длительость сессии, максимальная длительность неактивности пользователя, и т.д.).

## Хранения данных в Сессии(Session)

Поскольку Сессия - это всего лишь Cookie, это также всего лишь заголовок HTTP, но Play предоставляет вспомогательные методы для хранения значения в сессии:

@[store-session](code/javaguide/http/JavaSessionFlash.java)

Таким же способом, вы можете удалить любое значение из входящей сессии:

@[remove-from-session](code/javaguide/http/JavaSessionFlash.java)

## Чтение из Сессии

Вы можете получить входящую Сессию из запроса HTTP:

@[read-session](code/javaguide/http/JavaSessionFlash.java)

## Очистка всей сессии

Если вы хотите очистить сессию целиком, есть специальная операция:

@[discard-whole-session](code/javaguide/http/JavaSessionFlash.java)

## Пространство Flash

Пространство Flash работает в точности так же как и Session, но с двумя различиями:

- данные хранятся только для следующего запроса
- флешевые cookie не подписываются, делая невозможным для пользователя модифицировать их.

> **Важно:** Пространство flash должно быть использовано только для передачи success/error сообщения в простых не-Ajax приложениях. Поскольку данные хранятся только для следующего запроса, и поскольку нет никакой гарантии в порядке выполнения запросов в сложных Веб-приложениях, пространство Flash scope работает на тех же условиях.

Так, например, после сохранения элемента, вы можете захотеть перенаправить пользователя назад на главную страницу, и вы возможно захотите показать ему сообщение об ошибке на этой главной странице, уведомляя, что сохранение прошло успешно. В контролере сохранения, вы могли бы тогда добавить сообщение об успехе в пространство flash:

@[store-flash](code/javaguide/http/JavaSessionFlash.java)

Затем в контролере главной страницы вы могли бы проверить, существует ли сообщение об успехе, и если так, то отрисовать его:

@[read-flash](code/javaguide/http/JavaSessionFlash.java)

Значение flash также автоматически доступно в Twirl шаблонах. Например: 

@[flash-template](code/javaguide/http/views/index.scala.html)
