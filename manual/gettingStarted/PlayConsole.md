<!--- Copyright (C) 2009-2015 Typesafe Inc. <http://www.typesafe.com> -->
# Используем консоль Play

## Запускаем консоль

Консоль Play - это консоль разработчика, основанная на sbt, которая позволяет вам управлять циклом разработчика приложений Play.

Чтобы запустить консоль Play, перейдите в директорию вашего проект и запустите Активатор:

```bash
$ cd my-first-app
$ activator
```

[[images/console.png]]

## Получение справки

Используйте команду `help` чтобы получить базовую справку по доступными командам. Вы также можете использовать это со специфическими командами, чтобы получить информацию по ним: 

```bash
[my-first-app] $ help run
```

## Запуск сервера в режиме разработчика

Чтобы запустить текущее приложение в режиме разработчика, используйте команду `run`:

```bash
[my-first-app] $ run
```

[[images/consoleRun.png]]

В этом режиме сервер будет запущен с функцией авто-перезагрузки, означая, что каждый запрос Play будет проверять ваш проект и перекомпилировать требуемые исходники. При необходимости, приложение будет перезапущено автоматически.

Если есть какие-лио ошибки компиляции, вы увидите результат компиляциии прямо в вашем браузере:

[[images/errorPage.png]]

Чтобы остановить сервер, нажмите сочетание клавиш `Crtl+D` , и вы вернетесь в приглашение консоли Play.

## Компиляция

В Play вы можете также скомпилировать ваше приложение без запуска сервера. Просто используйте команду `compile`:

```bash
[my-first-app] $ compile
```

[[images/consoleCompile.png]]

## Запуск тестов

Как и вышеописанные команды, вы можете запустить тесты без запуска сервера. Просто используйте команду `test`:

```bash
[my-first-app] $ test
```

## Запуск интерактивной консоли 

Наберите `console` чтобы войти в интерактивную консоль Scala, которая позволяет вам тестировать ваш код интерактивно:

```bash
[my-first-app] $ console
```

Чтобы стартовать приложение из scala консоли (например, чтобы получить доступ к базе данных):

@[consoleapp](code/PlayConsole.scala)

[[images/consoleEval.png]] 

## Отладка

Вы можете попросить Play стартовать **JPDA** отладочный порт, когда запускаете консоль. Вы можете тогда подсоединиться, используя Java отладчик. Используйте команду `activator -jvm-debug <port>` чтобы это сделать:

```bash
$ activator -jvm-debug 9999
```

Когда доступен JPDA порт, JVM внесет эту строку в журнал в процессе загрузки:

```bash
Listening for transport dt_socket at address: 9999
```

## Используя возможности sbt 

Консоль Play всего лишь обычная консоль sbt, поэтому вы можете использовать такие возможности sbt как **запуск по триггеру**. 

Например, используя `~ compile`:

```bash
[my-first-app] $ ~ compile
```

Триггер компиляции сработает каждый раз при изменении исходников. 

Если вы используете `~ run`:

```bash
[my-first-app] $ ~ run
```

Триггерная компиляция будет включена пока запущен сервер в режиме разработчика.

Вы также может есделать то же самое для `~ test`, чтобы непрерывно тестировать ваше приложение каждый раз как вы модифицируете исходники:

```bash
[my-first-app] $ ~ test
```

## Использование команд play напрямую

Вы также можете запускать команды напрямую, не входя в консоль Play. Например, введите `activator run`:

```bash
$ activator run
[info] Loading project definition from /Users/jroper/tmp/my-first-app/project
[info] Set current project to my-first-app (in build file:/Users/jroper/tmp/my-first-app/)

--- (Running the application from SBT, auto-reloading is enabled) ---

[info] play - Listening for HTTP on /0:0:0:0:0:0:0:0:9000

(Server started, use Ctrl+D to stop and go back to the console...)
```

Приложение стартует напрямую. Когда вы закрываете сервер, используя `Ctrl+D`, вы возвращаетесь в командную строку вашей OS. Конечно, **запуск по триггеру** доступен и в этом случае:

```bash
$ activator ~run
```
